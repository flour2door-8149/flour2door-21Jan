{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/lib/features/cart/cartSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nlet debounceTimer = null\r\n\r\nexport const uploadCart = createAsyncThunk('cart/uploadCart', \r\n    async ({ getToken }, thunkAPI) => {\r\n        try {\r\n            clearTimeout(debounceTimer)\r\n            debounceTimer = setTimeout(async ()=> {\r\n                const { cartItems } = thunkAPI.getState().cart;\r\n                const token = await getToken();\r\n                await axios.post('/api/cart', {cart: cartItems}, { headers: { Authorization: `Bearer ${token}` } })\r\n            },1000)\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nexport const fetchCart = createAsyncThunk('cart/fetchCart', \r\n    async ({ getToken }, thunkAPI) => {\r\n        try {\r\n            const token = await getToken()\r\n            const { data } = await axios.get('/api/cart', {headers: { Authorization: `Bearer ${token}` }})\r\n            return data\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState: {\r\n        total: 0,\r\n        cartItems: {},\r\n    },\r\n    reducers: {\r\n        addToCart: (state, action) => {\r\n            const { productId } = action.payload\r\n            if (state.cartItems[productId]) {\r\n                state.cartItems[productId]++\r\n            } else {\r\n                state.cartItems[productId] = 1\r\n            }\r\n            state.total += 1\r\n        },\r\n        removeFromCart: (state, action) => {\r\n            const { productId } = action.payload\r\n            if (state.cartItems[productId]) {\r\n                state.cartItems[productId]--\r\n                if (state.cartItems[productId] === 0) {\r\n                    delete state.cartItems[productId]\r\n                }\r\n            }\r\n            state.total -= 1\r\n        },\r\n        deleteItemFromCart: (state, action) => {\r\n            const { productId } = action.payload\r\n            state.total -= state.cartItems[productId] ? state.cartItems[productId] : 0\r\n            delete state.cartItems[productId]\r\n        },\r\n        clearCart: (state) => {\r\n            state.cartItems = {}\r\n            state.total = 0\r\n        },\r\n    },\r\n    extraReducers: (builder)=>{\r\n        builder.addCase(fetchCart.fulfilled, (state, action)=>{\r\n            state.cartItems = action.payload.cart\r\n            state.total = Object.values(action.payload.cart).reduce((acc, item)=>acc + item, 0)\r\n        })\r\n    }\r\n})\r\n\r\nexport const { addToCart, removeFromCart, clearCart, deleteItemFromCart } = cartSlice.actions\r\n\r\nexport default cartSlice.reducer\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAEA,IAAI,gBAAgB;AAEb,MAAM,aAAa,IAAA,+MAAgB,EAAC,mBACvC,OAAO,EAAE,QAAQ,EAAE,EAAE;IACjB,IAAI;QACA,aAAa;QACb,gBAAgB,WAAW;YACvB,MAAM,EAAE,SAAS,EAAE,GAAG,SAAS,QAAQ,GAAG,IAAI;YAC9C,MAAM,QAAQ,MAAM;YACpB,MAAM,gJAAK,CAAC,IAAI,CAAC,aAAa;gBAAC,MAAM;YAAS,GAAG;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAAE;QACrG,GAAE;IACN,EAAE,OAAO,OAAO;QACZ,OAAO,SAAS,eAAe,CAAC,MAAM,QAAQ,CAAC,IAAI;IACvD;AACJ;AAGG,MAAM,YAAY,IAAA,+MAAgB,EAAC,kBACtC,OAAO,EAAE,QAAQ,EAAE,EAAE;IACjB,IAAI;QACA,MAAM,QAAQ,MAAM;QACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAC,aAAa;YAAC,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC;QAAC;QAC5F,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,OAAO,SAAS,eAAe,CAAC,MAAM,QAAQ,CAAC,IAAI;IACvD;AACJ;AAIJ,MAAM,YAAY,IAAA,0MAAW,EAAC;IAC1B,MAAM;IACN,cAAc;QACV,OAAO;QACP,WAAW,CAAC;IAChB;IACA,UAAU;QACN,WAAW,CAAC,OAAO;YACf,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO,OAAO;YACpC,IAAI,MAAM,SAAS,CAAC,UAAU,EAAE;gBAC5B,MAAM,SAAS,CAAC,UAAU;YAC9B,OAAO;gBACH,MAAM,SAAS,CAAC,UAAU,GAAG;YACjC;YACA,MAAM,KAAK,IAAI;QACnB;QACA,gBAAgB,CAAC,OAAO;YACpB,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO,OAAO;YACpC,IAAI,MAAM,SAAS,CAAC,UAAU,EAAE;gBAC5B,MAAM,SAAS,CAAC,UAAU;gBAC1B,IAAI,MAAM,SAAS,CAAC,UAAU,KAAK,GAAG;oBAClC,OAAO,MAAM,SAAS,CAAC,UAAU;gBACrC;YACJ;YACA,MAAM,KAAK,IAAI;QACnB;QACA,oBAAoB,CAAC,OAAO;YACxB,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO,OAAO;YACpC,MAAM,KAAK,IAAI,MAAM,SAAS,CAAC,UAAU,GAAG,MAAM,SAAS,CAAC,UAAU,GAAG;YACzE,OAAO,MAAM,SAAS,CAAC,UAAU;QACrC;QACA,WAAW,CAAC;YACR,MAAM,SAAS,GAAG,CAAC;YACnB,MAAM,KAAK,GAAG;QAClB;IACJ;IACA,eAAe,CAAC;QACZ,QAAQ,OAAO,CAAC,UAAU,SAAS,EAAE,CAAC,OAAO;YACzC,MAAM,SAAS,GAAG,OAAO,OAAO,CAAC,IAAI;YACrC,MAAM,KAAK,GAAG,OAAO,MAAM,CAAC,OAAO,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,KAAK,OAAO,MAAM,MAAM;QACrF;IACJ;AACJ;AAEO,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,SAAS,EAAE,kBAAkB,EAAE,GAAG,UAAU,OAAO;uCAE9E,UAAU,OAAO","debugId":null}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/lib/features/product/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nexport const fetchProducts = createAsyncThunk('product/fetchProducts', \r\n    async ({ storeId }, thunkAPI) => {\r\n        try {\r\n            const { data } = await axios.get('/api/products' + (storeId ? `?storeId=${storeId}` : ''))\r\n            return data.products\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nconst productSlice = createSlice({\r\n    name: 'product',\r\n    initialState: {\r\n        list: [],\r\n    },\r\n    reducers: {\r\n        setProduct: (state, action) => {\r\n            state.list = action.payload\r\n        },\r\n        clearProduct: (state) => {\r\n            state.list = []\r\n        }\r\n    },\r\n    extraReducers: (builder)=>{\r\n        builder.addCase(fetchProducts.fulfilled, (state, action)=>{\r\n            state.list = action.payload\r\n        })\r\n    }\r\n})\r\n\r\nexport const { setProduct, clearProduct } = productSlice.actions\r\n\r\nexport default productSlice.reducer"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,gBAAgB,IAAA,+MAAgB,EAAC,yBAC1C,OAAO,EAAE,OAAO,EAAE,EAAE;IAChB,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,UAAU,CAAC,SAAS,EAAE,SAAS,GAAG,EAAE;QACxF,OAAO,KAAK,QAAQ;IACxB,EAAE,OAAO,OAAO;QACZ,OAAO,SAAS,eAAe,CAAC,MAAM,QAAQ,CAAC,IAAI;IACvD;AACJ;AAGJ,MAAM,eAAe,IAAA,0MAAW,EAAC;IAC7B,MAAM;IACN,cAAc;QACV,MAAM,EAAE;IACZ;IACA,UAAU;QACN,YAAY,CAAC,OAAO;YAChB,MAAM,IAAI,GAAG,OAAO,OAAO;QAC/B;QACA,cAAc,CAAC;YACX,MAAM,IAAI,GAAG,EAAE;QACnB;IACJ;IACA,eAAe,CAAC;QACZ,QAAQ,OAAO,CAAC,cAAc,SAAS,EAAE,CAAC,OAAO;YAC7C,MAAM,IAAI,GAAG,OAAO,OAAO;QAC/B;IACJ;AACJ;AAEO,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,aAAa,OAAO;uCAEjD,aAAa,OAAO","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/lib/features/address/addressSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nexport const fetchAddress = createAsyncThunk('address/fetchAddress', \r\n    async ({ getToken }, thunkAPI) => {\r\n        try {\r\n            const token = await getToken()\r\n            const { data } = await axios.get('/api/address', {headers: { Authorization: `Bearer ${token}` }})\r\n            return data ? data.addresses : []\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nconst addressSlice = createSlice({\r\n    name: 'address',\r\n    initialState: {\r\n        list: [],\r\n    },\r\n    reducers: {\r\n        addAddress: (state, action) => {\r\n            state.list.push(action.payload)\r\n        },\r\n    },\r\n    extraReducers: (builder)=>{\r\n        builder.addCase(fetchAddress.fulfilled, (state, action)=>{\r\n            state.list = action.payload\r\n        })\r\n    }\r\n})\r\n\r\nexport const { addAddress } = addressSlice.actions\r\n\r\nexport default addressSlice.reducer"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,MAAM,eAAe,IAAA,+MAAgB,EAAC,wBACzC,OAAO,EAAE,QAAQ,EAAE,EAAE;IACjB,IAAI;QACA,MAAM,QAAQ,MAAM;QACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAC,gBAAgB;YAAC,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC;QAAC;QAC/F,OAAO,OAAO,KAAK,SAAS,GAAG,EAAE;IACrC,EAAE,OAAO,OAAO;QACZ,OAAO,SAAS,eAAe,CAAC,MAAM,QAAQ,CAAC,IAAI;IACvD;AACJ;AAGJ,MAAM,eAAe,IAAA,0MAAW,EAAC;IAC7B,MAAM;IACN,cAAc;QACV,MAAM,EAAE;IACZ;IACA,UAAU;QACN,YAAY,CAAC,OAAO;YAChB,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,OAAO;QAClC;IACJ;IACA,eAAe,CAAC;QACZ,QAAQ,OAAO,CAAC,aAAa,SAAS,EAAE,CAAC,OAAO;YAC5C,MAAM,IAAI,GAAG,OAAO,OAAO;QAC/B;IACJ;AACJ;AAEO,MAAM,EAAE,UAAU,EAAE,GAAG,aAAa,OAAO;uCAEnC,aAAa,OAAO","debugId":null}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/lib/features/rating/ratingSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nexport const fetchUserRatings = createAsyncThunk('rating/fetchUserRatings',\r\n    async ({ getToken }, thunkAPI) => {\r\n        try {\r\n            const token = await getToken()\r\n            const { data } = await axios.get('/api/rating', {headers: { Authorization: `Bearer ${token}` }})\r\n            return data ? data.ratings : []\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nconst ratingSlice = createSlice({\r\n    name: 'rating',\r\n    initialState: {\r\n        ratings: [],\r\n    },\r\n    reducers: {\r\n        addRating: (state, action) => {\r\n            state.ratings.push(action.payload)\r\n        },\r\n    },\r\n    extraReducers: (builder)=>{\r\n        builder.addCase(fetchUserRatings.fulfilled, (state, action)=>{\r\n            state.ratings = action.payload\r\n        })\r\n    }\r\n})\r\n\r\nexport const { addRating } = ratingSlice.actions\r\n\r\nexport default ratingSlice.reducer"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,MAAM,mBAAmB,IAAA,+MAAgB,EAAC,2BAC7C,OAAO,EAAE,QAAQ,EAAE,EAAE;IACjB,IAAI;QACA,MAAM,QAAQ,MAAM;QACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAC,eAAe;YAAC,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC;QAAC;QAC9F,OAAO,OAAO,KAAK,OAAO,GAAG,EAAE;IACnC,EAAE,OAAO,OAAO;QACZ,OAAO,SAAS,eAAe,CAAC,MAAM,QAAQ,CAAC,IAAI;IACvD;AACJ;AAIJ,MAAM,cAAc,IAAA,0MAAW,EAAC;IAC5B,MAAM;IACN,cAAc;QACV,SAAS,EAAE;IACf;IACA,UAAU;QACN,WAAW,CAAC,OAAO;YACf,MAAM,OAAO,CAAC,IAAI,CAAC,OAAO,OAAO;QACrC;IACJ;IACA,eAAe,CAAC;QACZ,QAAQ,OAAO,CAAC,iBAAiB,SAAS,EAAE,CAAC,OAAO;YAChD,MAAM,OAAO,GAAG,OAAO,OAAO;QAClC;IACJ;AACJ;AAEO,MAAM,EAAE,SAAS,EAAE,GAAG,YAAY,OAAO;uCAEjC,YAAY,OAAO","debugId":null}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/lib/store.js"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit'\r\nimport cartReducer from './features/cart/cartSlice'\r\nimport productReducer from './features/product/productSlice'\r\nimport addressReducer from './features/address/addressSlice'\r\nimport ratingReducer from './features/rating/ratingSlice'\r\n\r\nexport const makeStore = () => {\r\n    return configureStore({\r\n        reducer: {\r\n            cart: cartReducer,\r\n            product: productReducer,\r\n            address: addressReducer,\r\n            rating: ratingReducer,\r\n        },\r\n    })\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,YAAY;IACrB,OAAO,IAAA,6MAAc,EAAC;QAClB,SAAS;YACL,MAAM,+IAAW;YACjB,SAAS,qJAAc;YACvB,SAAS,qJAAc;YACvB,QAAQ,mJAAa;QACzB;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/app/StoreProvider.js"],"sourcesContent":["'use client'\r\nimport { useRef } from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { makeStore } from '../lib/store'\r\n\r\nexport default function StoreProvider({ children }) {\r\n  const storeRef = useRef(undefined)\r\n  if (!storeRef.current) {\r\n    // Create the store instance the first time this renders\r\n    storeRef.current = makeStore()\r\n  }\r\n\r\n  return <Provider store={storeRef.current}>{children}</Provider>\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,cAAc,EAAE,QAAQ,EAAE;IAChD,MAAM,WAAW,IAAA,+MAAM,EAAC;IACxB,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,wDAAwD;QACxD,SAAS,OAAO,GAAG,IAAA,yHAAS;IAC9B;IAEA,qBAAO,8OAAC,qKAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC7C","debugId":null}}]
}