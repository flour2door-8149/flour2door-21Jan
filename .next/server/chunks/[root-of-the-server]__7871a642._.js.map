{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/lib/prisma.js"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\nimport { PrismaNeon } from '@prisma/adapter-neon';\r\nimport { neonConfig } from '@neondatabase/serverless';\r\n\r\nimport ws from 'ws';\r\nneonConfig.webSocketConstructor = ws; \r\n\r\n// To work in edge environments (Cloudflare Workers, Vercel Edge, etc.), enable querying over fetch\r\nneonConfig.poolQueryViaFetch = true\r\n\r\n// Type definitions\r\n// declare global {\r\n//   var prisma: PrismaClient | undefined\r\n// }\r\n\r\nconst connectionString = `${process.env.DATABASE_URL}`;\r\n\r\nconst adapter = new PrismaNeon({ connectionString });\r\nconst prisma = global.prisma || new PrismaClient(process.env.NEXT_RUNTIME === \"edge\" ? { adapter } : {});\r\n\r\nif (process.env.NEXT_RUNTIME !== 'edge') global.prisma = prisma;\r\n\r\nexport default prisma; "],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAEA;;;;;AACA,sKAAU,CAAC,oBAAoB,GAAG,2JAAE;AAEpC,mGAAmG;AACnG,sKAAU,CAAC,iBAAiB,GAAG;AAE/B,mBAAmB;AACnB,mBAAmB;AACnB,yCAAyC;AACzC,IAAI;AAEJ,MAAM,mBAAmB,GAAG,QAAQ,GAAG,CAAC,YAAY,EAAE;AAEtD,MAAM,UAAU,IAAI,6KAAU,CAAC;IAAE;AAAiB;AAClD,MAAM,SAAS,yDAAO,MAAM,IAAI,IAAI,6IAAY,CAAC,sCAAsC,0BAAc,CAAC;AAEtG,wCAAyC,yDAAO,MAAM,GAAG;uCAE1C","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Flour2door/app/api/products/route.js"],"sourcesContent":["import prisma from \"@/lib/prisma\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\n\r\nexport async function GET(request){\r\n    try {\r\n        let products = await prisma.product.findMany({\r\n            where: {inStock: true },\r\n            include: {\r\n                rating: {\r\n                    select: {\r\n                        createdAt: true, rating: true, review: true,\r\n                        user: {select: {name: true, image: true}}\r\n                    }\r\n                },\r\n                store: true,\r\n            },\r\n            orderBy: {createdAt: 'desc'}\r\n        })\r\n\r\n        // remove products with store isActive false\r\n        products = products.filter(product => product.store.isActive)\r\n        return NextResponse.json({products})\r\n    } catch (error) {\r\n        console.error(error);\r\n        return NextResponse.json({ error: \"An internal server error occurred.\" }, { status: 500 });\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,IAAI,OAAO;IAC7B,IAAI;QACA,IAAI,WAAW,MAAM,0HAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YACzC,OAAO;gBAAC,SAAS;YAAK;YACtB,SAAS;gBACL,QAAQ;oBACJ,QAAQ;wBACJ,WAAW;wBAAM,QAAQ;wBAAM,QAAQ;wBACvC,MAAM;4BAAC,QAAQ;gCAAC,MAAM;gCAAM,OAAO;4BAAI;wBAAC;oBAC5C;gBACJ;gBACA,OAAO;YACX;YACA,SAAS;gBAAC,WAAW;YAAM;QAC/B;QAEA,4CAA4C;QAC5C,WAAW,SAAS,MAAM,CAAC,CAAA,UAAW,QAAQ,KAAK,CAAC,QAAQ;QAC5D,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAC;QAAQ;IACtC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAqC,GAAG;YAAE,QAAQ;QAAI;IAC5F;AACJ","debugId":null}}]
}